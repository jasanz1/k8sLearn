apiVersion = "gateway.networking.k8s.io/v1"
kind = "HTTPRoute"
metadata {
  name = "api-httproute"
}
spec {
  parentRefs {
    new {
      name = "app-gateway"
    }
  }
  hostnames {
    "synchatapi.internal"
  }
  rules {
    new {
      matches {
        new {
          path {
            type = "PathPrefix"
              value = "/"
          }
        }
      }

      backendRefs {
        new {
          name = "api-service"
            port = 80

        }
      }
    }
  }
}
